<div class="profile-details">

<!-- CHNAGE CURRENCY   -->
<select class="currency-select"
    onchange="updateCurrency(this.value)">
    <% const currencies=["USD", "EUR" , "GBP" , "KES" , "CAD" , "NGN"
        , "AUD" , "GHS" , "ZAR" , "INR" , "JPY" , "CNY" , "MXN" , "SGD"
        , "BRL" , "RUB" , "SAR" , "AED" , "THB" , "TRY" , "SEK" , "NOK"
        , "PLN" , "DKK" ]; %>
        <% currencies.forEach(cur=> { %>
            <option value="<%= cur %>" <%=user.currency===cur ? "selected"
                : "" %>><%= cur %>
            </option>
            <% }) %>
</select>






<!-- USER PROFILE AND DETAILS -->
<header class="header1">
  <div class="profile-summary">
    <div class="profile-img-wrapper">
      <% if (user.twitter_id && user.profile_image_url) { %>
        <img src="<%= user.profile_image_url %>" alt="Twitter profile" class="profile-photo">
      <% } else { %>
        <div class="profile-initials">
          <% 
            const safeName = user && user.name ? user.name : 'User';
            const nameParts = safeName.trim().split(' ');
            let initials = '';
            if (nameParts.length === 1) {
              initials = nameParts[0].substring(0, 2);
            } else {
              initials = nameParts[0][0] + nameParts[1][0];
            }
          %>
          <%= initials.toUpperCase() %>
        </div>
      <% } %>
    </div>

    <div class="profile-text">
      <% if (user.twitter_id && user.username) { %>
        <h2 class="username">@<%= user.username %></h2>
        <p class="email">(Logged in with Twitter)</p>
      <% } else { %>
        <h2 class="username"><%= user.name %></h2>
        <p class="email"><%= user.email %></p>
      <% } %>
    </div>
  </div>
</header>




</div>